function apbct_sendAJAX(o,n,l){var r=n.callback||null,t=n.notJson||null,e=n.timeout||15e3,s=(l=l||null,n.button||null),a=n.spinner||null,u=n.progressbar||null;s&&(s.setAttribute("disabled","disabled"),s.style.cursor="not-allowed"),a&&jQuery(a).css("display","inline"),o._ajax_nonce=ctCommon._ajax_nonce,jQuery.ajax({type:"POST",url:ctCommon._ajax_url,data:o,success:function(e){s&&(s.removeAttribute("disabled"),s.style.cursor="pointer"),a&&jQuery(a).css("display","none"),t||(e=JSON.parse(e)),e.error?(setTimeout(function(){u&&u.fadeOut("slow")},1e3),alert("Error happens: "+(e.error||"Unkown"))):r&&r(e,o,n,l)},error:function(e,o,n){s&&(s.removeAttribute("disabled"),s.style.cursor="pointer"),a&&jQuery(a).css("display","none"),console.log("APBCT_AJAX_ERROR"),console.log(e),console.log(o),console.log(n),n&&alert(n)},timeout:e})}